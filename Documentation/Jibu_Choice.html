<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>Choice Class</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', 'Jibu_Choice.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<em>You are here:</em> Symbol Reference &gt; <a href="Jibu.html" target="topic">Jibu Namespace</a> &gt; <a href="Jibu_Choice.html" target="topic">Choice Class</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="33%">
<div class="Element1">
Jibu for .NET</div>
</td><td width="34%">
<div class="Element2">
<a href="contents.html" target="tocidx"><img src="btn_globals_contents_midblue.gif" border="0" alt="Contents" title="Contents" onmouseover="switchImage(this, 'btn_globals_contents_midblue_hover.gif');" onmouseout="switchImage(this, 'btn_globals_contents_midblue.gif');"></a><a href="idx.html" target="tocidx"><img src="btn_globals_index_midblue.gif" border="0" alt="Index" title="Index" onmouseover="switchImage(this, 'btn_globals_index_midblue_hover.gif');" onmouseout="switchImage(this, 'btn_globals_index_midblue.gif');"></a><a href="index.html" target="topic"><img src="btn_globals_home_midblue.gif" border="0" alt="Home" title="Home" onmouseover="switchImage(this, 'btn_globals_home_midblue_hover.gif');" onmouseout="switchImage(this, 'btn_globals_home_midblue.gif');"></a></div>
</td><td width="33%">
<div class="Element90">
<a href="Jibu_ChannelWriter_IsPoisoned.html" target="topic"><img src="btn_prev_midblue.gif" border="0" alt="Previous" title="Previous" onmouseover="switchImage(this, 'btn_prev_midblue_hover.gif');" onmouseout="switchImage(this, 'btn_prev_midblue.gif');"></a><a href="Jibu.html" target="topic"><img src="btn_up_midblue.gif" border="0" alt="Up" title="Up" onmouseover="switchImage(this, 'btn_up_midblue_hover.gif');" onmouseout="switchImage(this, 'btn_up_midblue.gif');"></a><a href="!!MEMBEROVERVIEW_Jibu_Choice.html" target="topic"><img src="btn_next_midblue.gif" border="0" alt="Next" title="Next" onmouseover="switchImage(this, 'btn_next_midblue_hover.gif');" onmouseout="switchImage(this, 'btn_next_midblue.gif');"></a></div>
</td></tr></table><div class="Element5">
Choice Class</div>
<div class="Element7">
<a href="!!MEMBEROVERVIEW_Jibu_Choice.html" target="topic">Choice Members</a>&nbsp; <a href="_Jibu_Choice_17_Inheritance_Hierarchy.html" target="topic">Inheritance Hierarchy</a>&nbsp; <a href="Jibu_Choice.html#53656520416C736F" target="topic">See Also</a></div>
<div class="Element731">
<div class="Element730">
<a href="#" onclick="ToggleAllElements('52656D61726B73,4E6F746573,496E6865726974616E636520486965726172636879,53656520416C736F', 'linkToggleAllElements', 'imgToggleAllElements', 'Collapse All', 'Expand All');"><img src="btn_collapse.gif" border="0" alt="" title="" id="imgToggleAllElements"></a><a href="#" id="linkToggleAllElements" onclick="ToggleAllElements('52656D61726B73,4E6F746573,496E6865726974616E636520486965726172636879,53656520416C736F', 'linkToggleAllElements', 'imgToggleAllElements', 'Collapse All', 'Expand All');">Collapse All</a></div>
</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="53756D6D617279"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
Listen for events from different alternatives</p></div>
</div>
<a name="432B2B"></a><div class="Element99">
C++</div>
<div class="Element101"><div class="Element100"><pre class="Element100"><strong><span style="color: #008000">public</span></strong>: <strong><span style="color: #008000">class</span></strong> <strong><span style="color: #660000">Choice</span></strong>;</pre></div></div>
<a name="4323"></a><div class="Element99">
C#</div>
<div class="Element101"><div class="Element100"><pre class="Element100"><strong><span style="color: #008000">public</span></strong> <strong><span style="color: #008000">class</span></strong> <strong><span style="color: #660000">Choice</span></strong>;</pre></div></div>
<a name="56697375616C204261736963"></a><div class="Element99">
Visual Basic</div>
<div class="Element101"><div class="Element100"><pre class="Element100"><strong><span style="color: #008000">Public</span></strong> <strong><span style="color: #008000">Class</span></strong> <strong><span style="color: #660000">Choice</span></strong></pre></div></div>
<a name="52656D61726B73"></a><div class="Element14">
<a onclick="toggleVisibilityStored('52656D61726B73');" class="a_Element14"><img src="btn_collapse_large.gif" border="0" alt="" title="" id="img52656D61726B73">Remarks</a></div>
<div id="div52656D61726B73">
<div class="Element11">
<div class="Element10">
<p class="Element10">
The Choice class allows you to listen for some predefined events on alternatives. <a href="Jibu.html" target="topic">Jibu</a> provides the following alternatives:&nbsp;</p>
<p class="Element10">
1) <a href="Jibu_ChannelWriter.html" target="topic">ChannelWriter</a> &nbsp;</p>
<p class="Element10">
2) <a href="Jibu_ChannelReader.html" target="topic">ChannelReader</a> &nbsp;</p>
<p class="Element10">
3) <a href="Jibu_Timer.html" target="topic">Timer</a> &nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
Below is a description of how the alternatives can be used in Choice&nbsp;</p>
<p class="Element10">
1) You can connect a <a href="Jibu_ChannelReader.html" target="topic">ChannelReader</a>, to a Choice object and be notified when data is available in the <a href="Jibu_Channel.html" target="topic">Channel</a>.&nbsp;</p>
<p class="Element10">
2) You can connect a <a href="Jibu_ChannelWriter.html" target="topic">ChannelWriter</a>, to a Choice object and be notified when another task is ready to read data from the <a href="Jibu_Channel.html" target="topic">Channel</a>, that is when another task is pending in Read, waiting for data.&nbsp;</p>
<p class="Element10">
Note that if the <a href="Jibu_ChannelWriter.html" target="topic">ChannelWriter</a> is a writing end to a buffered <a href="Jibu_Channel.html" target="topic">Channel</a> you are notified when it is possible to write data to the <a href="Jibu_Channel.html" target="topic">Channel</a> without getting blocked, that is when the buffer is not full.&nbsp;</p>
<p class="Element10">
3) You can connect a <a href="Jibu_Timer.html" target="topic">Timer</a> to a Choice object and be notified when the timer times out.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
ChannelWriters and ChannelReaders can be connected to several Choice objects at the same time. That means that, for instance, a <a href="Jibu_ChannelReader.html" target="topic">ChannelReader</a> may be connected to three different Choice objects, all listening for available data in the <a href="Jibu_Channel.html" target="topic">Channel</a>. The programmer need not worry about having multiple Choice objects using the same alternative, because <a href="Jibu.html" target="topic">Jibu</a> guaranties that only one Choice object will notify the programmer if, for instance, data arrives in a <a href="Jibu_Channel.html" target="topic">Channel</a>. <a href="Jibu.html" target="topic">Jibu</a> also guaranties that no task, Choice object, etc. can &quot;steal&quot; the data in the <a href="Jibu_Channel.html" target="topic">Channel</a> once the Choice object has notified the programmer.&nbsp;</p>
<p class="Element10">
That means that you can use a Choice object to listen for data to arrive at a <a href="Jibu_Channel.html" target="topic">Channel</a> and when you are notified that data has arrived, you are guaranteed to receive the data when you call Read on the <a href="Jibu_Channel.html" target="topic">Channel</a>. You don't have to worry about whether other tasks, Choice objects and so on are using the same <a href="Jibu_Channel.html" target="topic">Channel</a>.&nbsp;</p>
<p class="Element10">
The same rules apply for the <a href="Jibu_ChannelWriter.html" target="topic">ChannelWriter</a> alternative - if the programmer is notified, that another task has called Read and is ready to read data when Write is called, <a href="Jibu.html" target="topic">Jibu</a> guaranties that no other writing task &quot;steals&quot; the reading task.&nbsp;</p>
<p class="Element10">
A <a href="Jibu_Timer.html" target="topic">Timer</a> can only be connected to one Choice object.&nbsp;</p>
<p class="Element10">
It isn't possible to connect both the <a href="Jibu_ChannelReader.html" target="topic">ChannelReader</a> and <a href="Jibu_ChannelWriter.html" target="topic">ChannelWriter</a> of the same <a href="Jibu_Channel.html" target="topic">Channel</a> to a Choice object, even if they are connected to different Choice objects. The reason it isn't allowed is that deadlock could occur if, for instance, one Choice object was waiting for data to arrive in a <a href="Jibu_Channel.html" target="topic">Channel</a>, while another Choice object was waiting for a reading task to call Read.&nbsp;</p>
<p class="Element10">
<a href="Jibu.html" target="topic">Jibu</a> will throw a <a href="Jibu_JibuException.html" target="topic">JibuException</a> if this rule is violated.&nbsp;</p>
<p class="Element10">
The last and probably the most important thing to know about the Choice class is how to listen for events on alternatives. The Choice class provides the following methods:&nbsp;</p>
<p class="Element10">
<a href="Jibu_Choice_PriSelect.html" target="topic">PriSelect</a>: Returns an index of a ready alternative. If multiple alternatives are ready, the one with the highest priority is selected. <a href="Jibu_Choice_PriSelect.html" target="topic">PriSelect</a> is blocked until one of the alternatives are ready.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
<a href="Jibu_Choice_FairSelect.html" target="topic">FairSelect</a>: Like <a href="Jibu_Choice_PriSelect.html" target="topic">PriSelect</a>, but guaranties a fair selection of ready alternatives. <a href="Jibu_Choice_FairSelect.html" target="topic">FairSelect</a> guaranties that a ready alternative will be selected within n calls to <a href="Jibu_Choice_FairSelect.html" target="topic">FairSelect</a>, where n is the number of alternatives in the Choice object. <a href="Jibu_Choice_FairSelect.html" target="topic">FairSelect</a> is blocked until one of the alternatives are ready.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
<a href="Jibu_Choice_TryPriSelect.html" target="topic">TryPriSelect</a>: If you just want to check if some alternatives are ready, but don't want to block if that is not the case, you can use <a href="Jibu_Choice_TryPriSelect.html" target="topic">TryPriSelect</a>. Like <a href="Jibu_Choice_PriSelect.html" target="topic">PriSelect</a>, <a href="Jibu_Choice_TryPriSelect.html" target="topic">TryPriSelect</a> returns the ready alternative with the highest priority, if there exists a ready alternative, otherwise -1 is returned.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
<a href="Jibu_Choice_TryFairSelect.html" target="topic">TryFairSelect</a>: Like <a href="Jibu_Choice_FairSelect.html" target="topic">FairSelect</a>, but without blocking if no alternatives are ready. In that case -1 is returned.&nbsp;</p>
<p class="Element10">
&nbsp;</p></div>
</div>
</div>
<a name="4E6F746573"></a><div class="Element14">
<a onclick="toggleVisibilityStored('4E6F746573');" class="a_Element14"><img src="btn_collapse_large.gif" border="0" alt="" title="" id="img4E6F746573">Notes</a></div>
<div id="div4E6F746573">
<div class="Element11">
<div class="Element10">
<p class="Element10">
A Choice object cannot be shared between different tasks. One Choice object works in one task only. If more are needed, create more instances.</p></div>
</div>
</div>
<a name="496E6865726974616E636520486965726172636879"></a><div class="Element14">
<a onclick="toggleVisibilityStored('496E6865726974616E636520486965726172636879');" class="a_Element14"><img src="btn_collapse_large.gif" border="0" alt="" title="" id="img496E6865726974616E636520486965726172636879">Inheritance Hierarchy</a></div>
<div id="div496E6865726974616E636520486965726172636879">
<div class="Element151"><div class="Element150"><pre class="Element150"><strong>Jibu.Choice</strong></pre></div></div>
</div>
<a name="53656520416C736F"></a><div class="Element14">
<a onclick="toggleVisibilityStored('53656520416C736F');" class="a_Element14"><img src="btn_collapse_large.gif" border="0" alt="" title="" id="img53656520416C736F">See Also</a></div>
<div id="div53656520416C736F">
<div class="Element11">
<div class="Element10">
<a href="!!MEMBEROVERVIEW_Jibu_Choice.html" target="topic">Choice Members</a><br /><a href="_Jibu_Choice_17_Inheritance_Hierarchy.html" target="topic">Inheritance Hierarchy</a></div>
</div>
<div class="Element740">
<a href="#PageContent" target="topic">Top</a></div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element97">
What do you think about this topic? <a href="#" onclick="sendFeedback('mail@axon7.com', 'Documentation Feedback', 'Project: Jibu for .NET%0ATopic ID: Jibu.Choice%0ATitle: Choice Class');"> Send feedback! </a></div>
</td></tr><tr><td width="100%">
<div class="Element3">
Copyright (c) 2007. All rights reserved.</div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>